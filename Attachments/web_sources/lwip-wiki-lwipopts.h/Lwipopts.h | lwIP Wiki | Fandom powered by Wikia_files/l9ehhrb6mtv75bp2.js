!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}var a=n(1),o=i(a),l=n(2),u=i(l),s=n(5),f=(i(s),n(7)),d=(i(f),n(8)),c=(i(d),n(9)),p=i(c),g=n(10),h=(i(g),n(12)),m=(i(h),n(16)),v=(i(m),n(17)),y=(i(v),n(19)),w=(i(y),n(11)),S=(i(w),n(13)),b=(i(S),n(21)),k=(i(b),n(22)),x=(i(k),n(25)),I=(r(x),document,window,function(){u["default"].inventory.version=3,u["default"].sdk.multiFetch=!0,u["default"].activity.itemRegex="(?:[?#]|$)",u["default"].activity.excludeRegex="(pecial:|Talk:|User:|Template:|Category:|_Wiki|Main_Page|Marvel_Database|:Search|peciale:|pecjalna:|/Narutopedia)",u["default"].inventory.itemRegex="(http://.+.wikia.com/wiki/.+?|http://fandom.wikia.com/videos/.+?)(?:[?#]|$)",u["default"].inventory.excludeRegex="(pecial:|Talk:|User:|Template:|Category:)",u["default"].inventory.filters=[{name:"noIndex",value:"true"},{name:"type",value:"website"}]});p["default"].addWidgetData("l9ehhrb6mtv75bp2",{widgets:{"fandom-rec":{dedupGid:"0"},"in-wikia":{dedupGid:"0"}}}),p["default"].addExtension("l9ehhrb6mtv75bp2",{run:I}),o["default"].start()},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function a(){console.log("JavaScript SDK is not activated.")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),l=i(o),u=n(5),s=i(u),f=n(7),d=i(f),c=n(8),p=i(c),g=n(9),h=i(g),m=n(10),v=i(m),y=n(12),w=i(y),S=n(16),b=i(S),k=n(17),x=i(k),I=n(19),C=i(I),R=n(11),T=(i(R),n(13)),_=i(T),U=n(21),E=i(U),O=n(22),P=i(O),A=n(3),H=(i(A),n(23)),j=i(H),K=n(25),D=r(K);t["default"]={start:function(){var e=this,t=l["default"].pmVar,n=window[t].q||[];window[t]=function(){return e.processCall(arguments)};for(var r=0;r<n.length;r++)e.processCall(n[r])},processCall:function(e){var t=Array.prototype.slice.call(e);switch(l["default"].debug&&(console.log("$p function: "+t[0]),console.log("$p params: "+JSON.stringify(t.slice(1)))),t[0]){case"init":this.init.apply({},t.slice(1));break;case"send":v["default"].send.apply({},t.slice(1));break;case"sendRobust":return v["default"].sendRobust.apply({},t.slice(1));case"collectWidgetInfo":x["default"].collectWidgetInfo.apply({},t.slice(1));break;case"collectInventory":E["default"].collect.apply({},t.slice(1));break;case"setPushStateReset":C["default"].setPushStateReset.apply({},t.slice(1));break;case"setOnHashChangeReset":C["default"].setOnHashChangeReset.apply({},t.slice(1));break;case"printDebugInfo":this.printDebugInfo.apply({},t.slice(1));break;case"debug":l["default"].debug=t[1]===!0;break;case"resetPageview":return P["default"].isActivated()?P["default"].resetPageview.apply({},t.slice(1)):a();case"pushBrowsingHist":return P["default"].isActivated()?P["default"].pushBrowsingHist.apply({},t.slice(1)):a();case"setUserId":return P["default"].isActivated()?s["default"].setUserId.apply({},t.slice(1)):a();case"getWidgetNames":return P["default"].isActivated()?P["default"].getWidgetNames.apply({},t.slice(1)):a();case"setRequestFields":P["default"].isActivated()?P["default"].setRequestFields.apply({},t.slice(1)):a();break;case"setRequestFieldsAON":P["default"].isActivated()?P["default"].setRequestFieldsAON.apply({},t.slice(1)):a();break;case"setArrayRequestFields":P["default"].isActivated()?P["default"].setArrayRequestFields.apply({},t.slice(1)):a();break;case"setGetQueryInfo":P["default"].isActivated()?P["default"].setGetQueryInfo.apply({},t.slice(1)):a();break;case"setNoTag":P["default"].isActivated()?P["default"].setNoTag.apply({},t.slice(1)):a();break;case"register":P["default"].isActivated()?P["default"].register.apply({},t.slice(1)):a();break;case"fetch":P["default"].isActivated()?P["default"].fetch.apply({},t.slice(1)):a();break;case"track":P["default"].isActivated()?P["default"].track.apply({},t.slice(1)):a();break;case"userHash":return P["default"].isActivated()?P["default"].userHash.apply({},t.slice(1)):a();case"abTestSlice":return P["default"].isActivated()?P["default"].abTestSlice.apply({},t.slice(1)):a();case"render":return P["default"].isActivated()?P["default"].render.apply({},t.slice(1)):a();case"renderCustomWidget":return P["default"].isActivated()?P["default"].renderCustomWidget.apply({},t.slice(1)):a();case"sendItem":return P["default"].isActivated()?P["default"].sendItem.apply({},t.slice(1)):a();case"setContext":return P["default"].isActivated()?P["default"].setContext.apply({},t.slice(1)):a();case"getHist":return P["default"].isActivated()?l["default"].getHistList.apply(l["default"],t.slice(1)):a();case"setHist":return P["default"].isActivated()?P["default"].setHist.apply({},t.slice(1)):a();case"search":return j["default"].search.apply({},t.slice(1));case"onload":return t[1]();case"monitorSearch":return P["default"].isActivated()?P["default"].monitorSearch.apply({},t.slice(1)):a();case"fpo":return D.fetchFloorPrice.apply(null,t.slice(1));case"pubadsRequested":return D.pubadsRequested.apply(null,t.slice(1))}},init:function(e,t){if(null==l["default"].jsKey){if(t=t||{},l["default"].jsKey=e,l["default"].disabledCust[e])return void console.log("Thank you for using LiftIgniter! If you are interested in re-activating our service, please contact us at support@liftigniter.com");h["default"].maybeRunEarlyExtension(),p["default"].addEvent(window,"scroll",P["default"].debounce(w["default"].checkScroll,100)),t.fi&&(t.config={activity:{activityServer:"http://start.liftigniter.com"},sdk:{queryServer:"http://start.liftigniter.com",multiFetch:!0,enableBackup:!1},inventory:{inventoryServer:"http://start.liftigniter.com"}}),l["default"].init(t.config),s["default"].initializeCookies(),b["default"].initializeTimers(),d["default"].initializeDurationEvents(),C["default"].initializeNavigationEvents(),h["default"].maybeRunExtension(),l["default"].inventory.collect&&p["default"].domComplete(function(){try{E["default"].collect()}catch(e){l["default"].errorString=""+e,v["default"].send("scraping_fail"),l["default"].errorString=void 0,console.log("LiftIgniter: Error in inventory collection: "+e+" please check the JSON formatting for metadata; you can check formatting at http://jsonlint.com")}}),v["default"].checkBuffer(),window.setInterval(function(){v["default"].checkBuffer()},1e4)}},printDebugInfo:function(e){var t=Array.prototype.slice.call(arguments);switch(console.log("Debug Info: <"+e+">. Args:"),console.log(t.slice(1)),console.log("Results:"),e){case"config":console.log(l["default"]);break;case"scrapeFeature":console.log(_["default"].scrapeFeature.apply({},t.slice(1)));break;case"scrapeInventory":console.log(E["default"].scrapeInventory.apply({},t.slice(1)))}}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=r(i),o=window.$igniter_var||window.$petametricsVar||window.$petametrics_var;t["default"]={trial:!1,disabledCust:{"3ra9ebvgp1gnl9gu":!0,jo34k2op9eztyzj1:!0,llbf18lltc4upsf8:!0,"3f2nr8ipir0923el":!0,gn0ee46lqa6l86dv:!0,j8vr8s11slka1e3d:!0},debug:!1,activity:{activityServer:"//api.petametrics.com",activitySamplingPercent:100,itemRegex:void 0,excludeRegex:void 0,canonicalUrlTransform:function(e){return e},urlTransform:function(e){return e}},useCanonicalUrl:!0,globalTracking:!1,disableCustomWidget:!1,noTag:!1,limitHistory:!1,sdk:{queryServer:"//query.petametrics.com",backupQueryServer:"//query1.petametrics.com",queryApiVersion:"v2",getQueryInfo:!1,requestFields:["url","author","title","rank","thumbnail"],arrayRequestFields:[],fetchCalled:!1,multiFetch:!1,enableBackup:!0,requestFieldsAON:!1,customTrackFunc:void 0,widgetAnalysis:void 0,retry:!0,manualHist:void 0,iden:"url",historyTracking:!0,ogUrlHistory:!1,pushStateReset:!1,replaceStateReset:!1},clickHist:{onLocalStorage:!0,onCookie:!1,urlTrans:function(e){return e},clickHistCKey:"_igch",clickHistLKey:"_igClkHis",cap:10,send:!1},longHist:{active:!0,bufferSize:100,recentDropSize:0},search:{queryServer:"//start.liftigniter.com",defaultQuery:"",max:10,off:0,requestFields:["url","title*","thumbnail","description*","image"]},fpo:{queryServer:"//fpo.petametrics.com",timeout:5e3},trackingTransURL:function(e){return e},customContext:{id:void 0},qOpt:{dynScrollInfo:!1,screenDim:!1,sendTimer:!0},shown:{active:!1,freqCap:3,vizCap:10,maxExclude:20,bufferSize:40,vizSendCap:void 0,freqCapKey:"_fcap"},inventory:{inventoryServer:"//api.petametrics.com",inventoryApiVersion:"v1",version:void 0,collect:!0,id:"url",collectJSON:!0,collectOpenGraph:!0,collectOpenGraphOnly:!0,mandatoryOpenGraphFeatures:["title","url","type"],features:void 0,mandatoryFeatures:["title","url"],filters:[{name:"noIndex",value:"true"}],useOpenGraphForCanonicalUrl:!0,useLinkRelForCanonicalUrl:!0,defaultType:"article",stripTagsForCanonicalUrl:!0,stripHashesForCanonicalUrl:!0,canonicalUrlTransform:function(e){return e},itemRegex:void 0,excludeRegex:void 0,ttl:0},customTrackFunc:void 0,pmVar:o,jsKey:null,loadedAt:window[o].l,version:"0.4",cookieDomain:a["default"].getTopLevelDomain(window.location.hostname),thirdKey:"_igg",permKey:"_ig",sessKey:"_igt",sessRefKey:"_igsr",userRefKey:"_igur",histKey:"_igh",seriesHistKey:"_igsh",prodHistKey:"_igph",longHistKey:"_ighl",robustMsgSlot:"_igslot_",pisKey:"_ig_pis",siuKey:"_ig_siu",piuKey:"_ig_piu",cisKey:"_ig_cis",ciuKey:"_ig_ciu",dpisKey:"_ig_dpis",dpiuKey:"_ig_dpiu",iriuKey:"_ig_iriu",numPerKey:"_ig_nump",numSesKey:"_ig_sess",robustUseCookie:!0,robustUseStorage:!0,latestVizKey:"_iglviz_",lastClick:"_iglclk_",widgetClickContextKey:"_igwcc_",gid:null,uid:null,sid:null,pvid:null,hist:null,histSettings:{stripTags:!0,stripHashes:!0,stripDashes:!1,fixHttps:!1,deduplicate:!0,maxItems:10,histRegex:/(.*)/,origin:void 0},getHistList:function(){return this.sdk.manualHist?this.sdk.manualHist:this.hist?(this.hist=this.hist.split(",").join("|"),this.hist.split("|").map(function(e){return decodeURIComponent(e)})):[]},getClickHistList:function(){},collectSeriesHist:!1,getSeriesHistList:function(){return this.seriesHist?(this.seriesHist=this.seriesHist.split(",").join("|"),this.seriesHist.split("|").map(function(e){return decodeURIComponent(e)})):[]},getProdHistList:function(){return this.prodHist?(this.prodHist=this.prodHist.split(",").join("|"),this.prodHist.split("|").map(function(e){return decodeURIComponent(e)})):[]},globalCtx:{},adblockCheck:!1,adblocker:!1,userAgent:navigator.userAgent,language:navigator.language,os:navigator.platform,colorDepth:screen.colorDepth,screenHeight:screen.height,screenWidth:screen.width,currentUrl:window.location.href,referrer:document.referrer.slice(0,200),timers:{stuck_10s:1e4,stuck_3m:18e4},defaultApiEvents:["pageview","stuck_10s","stuck_3m"],refresh:function(){this.referrer=this.currentUrl,this.currentUrl=window.location.href},init:function(e){for(var t in e)this.hasOwnProperty(t)&&"object"==typeof this[t]&&!this[t].length?this[t]=a["default"].mergeMap(this[t],e[t]):this[t]=e[t]}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var n=0,r=e.length;r>n;n++)t[n]=i(e[n]);return t}if(e instanceof Object){t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=i(e[a]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")}function a(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("getObjectKeys called on a non-object");var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);if(f)for(var r=0,i=c;i>r;r++){var a=d[r];e.hasOwnProperty(a)&&t.push(a)}return t}function o(e){return a(e).length}Object.defineProperty(t,"__esModule",{value:!0});var l=n(4),u=r(l),s=window,f=!0,d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=d.length;for(var p in{toString:null})f=!1;t["default"]={generateUUID:function(){var e=u["default"].getCurrentTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:7&n|8).toString(16)});return t},swap:function(e){return e},getURLParameter:function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[null,""])[1].replace(/\+/g,"%20"))||null},mergeMap:function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},clone:i,getUrlPath:function(e,t){var n=e.replace(/https?:\/\/[^\/]+/i,"");return t?n:n.split("?")[0].split("#")[0]},getObjectKeys:a,size:o,getTopLevelDomain:function(e){var t=e.split(".");return"com"==t[t.length-1]?t.slice(-2).join("."):null},djb2HashCode:function(e){for(var t=5381,n=0;n<e.length;n++){var r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return Math.abs(t)},getTime:function(){return(new Date).getTime()},requestJsonp:function(e,t,n){var r="igniter_"+this.generateUUID().replace(/-/g,"");s[r]=function(t){e.apply(null,[t].concat(n||[]))};var i=t+(t.indexOf("?")>=0?"&":"?")+"jsonp="+r,a=document.createElement("script");a.type="text/javascript",a.setAttribute("src",i),document.head.appendChild(a)}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={getCurrentTime:function(){return(new Date).getTime()},getTimezoneOffset:function(){return(new Date).getTimezoneOffset()}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){if(navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var e=-1!=document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}function a(e,t,n){o(e,t,n,1e3)}function o(e,t,n,r){r=r||864e5;var i="";if(n){var a=new Date;a.setTime(a.getTime()+n*r),i=";expires="+a.toGMTString()}var o=k["default"].cookieDomain?";domain="+k["default"].cookieDomain:"";u(e),document.cookie=e+"="+t+i+o+";path=/"}function l(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function u(e){var t=k["default"].cookieDomain?";domain="+k["default"].cookieDomain:"";document.cookie=e+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT"+t+";path=/",document.cookie=e+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT;path=/"}function s(e){"string"==typeof e&&(k["default"].uid=e,o(k["default"].permKey,k["default"].uid,365))}function f(e){"string"==typeof e&&(k["default"].gid=e,o(k["default"].thirdKey,e,365))}function d(){R["default"].requestJsonp(f,k["default"].activity.activityServer+"/gid")}function c(){if(k["default"].jsKey&&!k["default"].disabledCust[k["default"].jsKey]&&"/"!=k["default"].pathname){var e=new Image,t=k["default"].histSettings.origin?k["default"].histSettings.origin+window.location.pathname:window.location.origin+window.location.pathname;e.src=k["default"].activity.activityServer+"/gbh/"+encodeURIComponent(t)}}function p(){var e=!1,t=!l(k["default"].numPerKey),n=i();k["default"].globalTracking&&(k["default"].gid=l(k["default"].thirdKey),c(),k["default"].gid||d());var r=l(k["default"].numPerKey),a=l(k["default"].numSesKey);r=r?r.split(":"):[],a=a?a.split(":"):[],k["default"].uid=l(k["default"].permKey),k["default"].piu=t?l(k["default"].piuKey):r[0],k["default"].siu=t?l(k["default"].siuKey):r[1],k["default"].dpiu=t?l(k["default"].dpiuKey):r[2],k["default"].iriu=t?l(k["default"].iriuKey):r[3],k["default"].ciu=t?l(k["default"].ciuKey):r[4],k["default"].npiu=t?l(k["default"].npiuKey):r[5]||"0",k["default"].pis=t?l(k["default"].pisKey):a[0],k["default"].dpis=t?l(k["default"].dpisKey):a[1],k["default"].cis=t?l(k["default"].cisKey):a[2],t&&(r[0]=k["default"].piu,r[1]=k["default"].siu,r[2]=k["default"].dpiu,r[3]=k["default"].iriu,r[4]=k["default"].ciu,r[5]="0",a[0]=k["default"].pis,a[1]=k["default"].dpis,a[2]=k["default"].cis),k["default"].cis||(a[2]="0"),k["default"].ciu||(r[4]="0"),k["default"].uid?(s(k["default"].uid),k["default"].piu?r[0]=v(r[0]):r[0]="1"):(e=!0,r[4]="0",r[5]="0",n?(s(R["default"].generateUUID()),r[0]="1",r[1]="1",a[0]="1"):k["default"].uid="fp:"),document.referrer&&""!=document.referrer?(k["default"].dpiu||(r[2]="0"),k["default"].dpis||(a[1]="0")):(k["default"].dpiu?r[2]=v(r[2]):r[2]="1",k["default"].dpis?a[1]=v(a[1]):a[1]="1");try{document.referrer&&""!=document.referrer&&document.referrer.split("/")[2]==window.location.href.split("/")[2]?k["default"].iriu?r[3]=v(r[3]):r[3]="1":k["default"].iriu||(r[3]="0")}catch(u){}k["default"].sid=l(k["default"].sessKey),k["default"].sid?(k["default"].siu||(r[1]="1"),e||(a[0]=v(a[0]))):(a[2]="0",k["default"].pis||(a[0]="1"),e||(a[0]=v(a[0])),k["default"].siu?e||(r[1]=v(r[1])):r[1]="1"),k["default"].sid||(n?(k["default"].sid=R["default"].generateUUID(),o(k["default"].sessKey,k["default"].sid)):k["default"].sid="fp:"),k["default"].pvid=R["default"].generateUUID(),k["default"].sref=l(k["default"].sessRefKey),k["default"].sref||(n?(document.referrer&&""!=document.referrer?k["default"].sref=document.referrer.slice(0,200):k["default"].sref="-1",o(k["default"].sessRefKey,k["default"].sref)):k["default"].sref="-1"),k["default"].uref=l(k["default"].userRefKey),k["default"].uref||(n?(document.referrer&&""!=document.referrer?k["default"].uref=document.referrer.slice(0,200):k["default"].uref="-1",o(k["default"].userRefKey,k["default"].uref,365)):k["default"].uref="-1"),k["default"].customBrowsingHistory&&k["default"].sdk.historyTracking?k["default"].customBrowsingHistory():k["default"].sdk.historyTracking&&g(),k["default"].hist&&k["default"].hist.split("|")&&k["default"].hist.split("|").length&&(!r[5]||k["default"].hist.split("|").length>r[5])?r[5]=k["default"].hist.split("|").length.toString():k["default"].viewType&&"new"==k["default"].viewType&&(r[5]=v(r[5])),k["default"].piu=r[0],k["default"].siu=r[1],k["default"].dpiu=r[2],k["default"].iriu=r[3],k["default"].ciu=r[4],k["default"].npiu=r[5],k["default"].pis=a[0],k["default"].dpis=a[1],k["default"].cis=a[2],y(r),y(a),o(k["default"].numPerKey,r.join(":"),365),o(k["default"].numSesKey,a.join(":")),o(k["default"].permKey,k["default"].uid,365);var f=l("gender_type");f&&(k["default"].gender_type=l("gender_type")),t&&S()}function g(){k["default"].hist=l(k["default"].histKey);var e=k["default"].histSettings.origin?k["default"].histSettings.origin+window.location.pathname:window.location.href;if(k["default"].sdk.ogUrlHistory){var t=document.querySelector("meta[property='og:url'][content]");t&&(e=t.getAttribute("content"))}if(k["default"].histSettings.histRegex.test(e)){k["default"].histSettings.stripTags&&(e=e.split("?")[0]),k["default"].histSettings.stripHashes&&(e=e.split("#")[0]),k["default"].histSettings.stripDashes&&(e=e.split("-")[0]),k["default"].histSettings.fixHttps&&(e=e.replace("https://","http://")),I["default"].appendUrlToLongHist(e);var n=encodeURIComponent(e),r=document.referrer||"";k["default"].histSettings.stripTags&&(e=r.split("?")[0]),k["default"].histSettings.stripHashes&&(r=r.split("#")[0]),k["default"].histSettings.stripDashes&&(r=r.split("-")[0]),k["default"].histSettings.fixHttps&&(r=r.replace("https://","http://"));var i=encodeURIComponent(r);if(k["default"].hist){var a=k["default"].hist.split(",").join("|").split("|"),u=!1,s=!1;(a[a.length-1]||"")===n&&(s=!0);for(var f=a.length-1;f>=0;f--)if(a[f]===n){u=!0;break}u&&k["default"].histSettings.deduplicate||(a.length>=k["default"].histSettings.maxItems&&(a=a.slice(1,k["default"].histSettings.maxItems)),a.push(n)),k["default"].hist=a.join("|"),n===i?k["default"].viewType="selfReferenced":s?k["default"].viewType="refresh":u?k["default"].viewType="revisit":k["default"].viewType="new"}else k["default"].hist=n,k["default"].viewType="new";o(k["default"].histKey,k["default"].hist,15)}}function h(){k["default"].seriesHist=l(k["default"].seriesHistKey);try{var e=document.querySelector("meta[property='video:series'][content]").getAttribute("content");if(k["default"].currentSeries=e,k["default"].seriesHist){for(var t=k["default"].seriesHist.split(",").join("|").split("|").map(decodeURIComponent),n=!1,r=0;r<t.length;r++)if(t[r]===e){n=!0;break}n||(t.length>=10&&(t=t.slice(1,10)),t.push(e)),k["default"].seriesHist=t.map(encodeURIComponent).join("|")}else k["default"].seriesHist=encodeURIComponent(e);o(k["default"].seriesHistKey,k["default"].seriesHist,60)}catch(i){k["default"].debug&&console.log("Either the scraped series does not exist or we had a problem updating the series history")}}function m(){try{var e=l(k["default"].numSesKey).split(":"),t=l(k["default"].numPerKey).split(":");k["default"].cis?(k["default"].cis=v(k["default"].cis),e[2]=k["default"].cis):(k["default"].cis="1",e[2]=k["default"].cis),o(k["default"].numSesKey,e.join(":")),k["default"].ciu?(k["default"].ciu=v(k["default"].ciu),t[4]=k["default"].ciu):(k["default"].ciu="1",t[4]=k["default"].ciu),o(k["default"].numPerKey,t.join(":"),365)}catch(n){}}function v(e){var t=(e- -1).toString();return"NaN"===t&&(t="1"),t}function y(e){for(var t=0;t<e.length;t++)"NaN"===e[t]&&(e[t]="1")}function w(e,t,n){var r=k["default"].clickHist.clickHistCKey,i=decodeURIComponent(l(r)),a="null"!==i?i.split(","):[],u=k["default"].clickHist.cap||10,s=!1;a=a.slice(a.length-u,a.length),e=k["default"].clickHist.urlTrans(e);for(var f=0;f<a.length;f++)a[f].split("|")[0]===e&&(s=!0);s||(a.length>=10&&a.shift(),a.push(e+"|"+t+"|"+n)),o(r,encodeURIComponent(a.join(",")),365)}function S(){u(k["default"].ciuKey),u(k["default"].piuKey),u(k["default"].siuKey),u(k["default"].dpiuKey),u(k["default"].iriuKey),u(k["default"].cisKey),u(k["default"].pisKey),u(k["default"].dpisKey)}Object.defineProperty(t,"__esModule",{value:!0});var b=n(2),k=r(b),x=n(6),I=r(x),C=n(3),R=r(C);t["default"]={requestGlobalHist:c,setGlobalId:f,setUserId:s,createCookie:o,readCookie:l,deleteCookie:u,initializeCookies:p,initializeSeriesHistCookie:h,hasCookiesEnabled:i,getItem:l,setItem:a,removeItem:u,maxMsgSlot:3,name:"cookie",updateClickIndex:m,updateBrowsingHistory:g,appendToClickHist:w},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}function a(e){var t,n,r,i=0;if(0==e.length)return i;for(t=0,r=e.length;r>t;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i|=0;return i}function o(e){for(var t=JSON.parse(h(v["default"].shown.freqCapKey))||[],n=0;n<e.length;++n){for(;t.length>=v["default"].shown.bufferSize;)t.shift();t.push(a(e[n].split("?")[0].split("#")[0]))}p(v["default"].shown.freqCapKey,JSON.stringify(t))}function l(){for(var e=JSON.parse(h(v["default"].shown.freqCapKey))||[],t={},n=new Set,r=e.length;--r>=0&&n.size<v["default"].shown.maxExclude;){var i=e[r];t[i]?t[i]+=1:t[i]=1,t[i]>=v["default"].shown.freqCap&&n.add(i)}var a=[];return n.forEach(function(e){a.push(e)}),JSON.stringify(a)}function u(e){var t="http://www.ozy.com/acumen/";if(0!=e.indexOf(t))f(e);else{var n=e.replace("/ozy-ted-","/"),r=n.replace(t,""),i=t+r,a=t+"ozy-ted-"+r;f(i),f(a)}}function s(e,t,n){var r=v["default"].clickHist.clickHistLKey||"_igClkHis",i=JSON.parse(h(r))||[],a=v["default"].clickHist.cap||10,o=!1;i=i.slice(i.length-a,i.length);for(var l=0;l<i.length;l++)i[l].split("|")[0]===e&&(o=!0);o||(i.length>=10&&i.shift(),i.push(e+"|"+t+"|"+n)),p(r,JSON.stringify(i))}function f(e){for(var t=JSON.parse(h(v["default"].longHistKey))||[],n=a(e),r=t.length,i=!1,o=0;r>o;++o)if(t[o]==n){i=!0;for(var l=o+1;r>l;++l)t[l-1]=t[l];t[r-1]=n;break}if(!i){for(;t.length>=v["default"].longHist.bufferSize;)t.shift();t.push(n)}p(v["default"].longHistKey,JSON.stringify(t))}function d(){var e=h(v["default"].longHistKey)||JSON.stringify([]);if(v["default"].longHist.dropRecent>0){var t=JSON.parse(e).length;t>=v["default"].longHist.dropRecent?e=JSON.stringify(JSON.parse(e).slice(0,t-v["default"].longHist.dropRecent)):JSON.stringify([])}return e}function c(){try{w.setItem("_igst","8");var e="8"==w.getItem("_igst");return w.removeItem("_igst"),e}catch(t){return!1}}function p(e,t,n){w.setItem(e,t),n&&w.setItem(e+S,(new Date).getTime()+1e3*n)}function g(e){w.removeItem(e),w.removeItem(e+S)}function h(e){var t=w.getItem(e+S);return!t||t>=(new Date).getTime()?w.getItem(e)||null:(g(e),null)}Object.defineProperty(t,"__esModule",{value:!0});var m=n(2),v=r(m),y=window,w=i()?y.localStorage:{setItem:function(){},getItem:function(){},removeItem:function(){}},S="expireTimestamp";t["default"]={hasStorageEnabled:c,setItem:p,getItem:h,removeItem:g,maxMsgSlot:10,name:"session_storage",storeVisibleElements:o,getFrequent:l,appendUrlToLongHist:u,getLongHist:d,appendToClickHist:s},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){c&&(d+=1*new Date-c,c=!1)}function a(){l["default"].addEvent(f,"blur",function(){i()}),l["default"].addEvent(f,"focus",function(){c=1*new Date})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),l=r(o),u=n(2),s=r(u),f=window,d=0,c=s["default"].loadedAt;t["default"]={getDuration:function(){return d},stopDuration:i,initializeDurationEvents:a},e.exports=t["default"]},function(e,t){"use strict";function n(e){/in[^t]/.test(document.readyState)?a.setTimeout(function(){n(e)},100):e()}function r(e){/complete/.test(document.readyState)?e():a.setTimeout(function(){r(e)},100)}function i(e,t){e()?t():a.setTimeout(function(){i(e,t)},50)}Object.defineProperty(t,"__esModule",{value:!0});var a=window;t["default"]={addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,function(){return n.call(e,a.event)})},domReady:n,domComplete:r,doWhenReady:i},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){g[e]=t}function a(e,t){h[e]=t}function o(e,t){m[e]=t}function l(e){var t={dedupGid:"0"};return e.widgets||(e.widgets={}),e.widgets["default-widget"]=t,e.itemRegex||(e.itemRegex="://.*"),e}function u(){return l(p["default"].jsKey in m?m[p["default"].jsKey]:{})}function s(){p["default"].jsKey in g&&"undefined"!=typeof g[p["default"].jsKey].run&&g[p["default"].jsKey].run()}function f(e){p["default"].jsKey in g&&"undefined"!=typeof g[p["default"].jsKey].render&&g[p["default"].jsKey].render(e)}function d(){p["default"].jsKey in h&&"undefined"!=typeof h[p["default"].jsKey].run&&h[p["default"].jsKey].run()}Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),p=r(c),g={},h={},m={};t["default"]={addExtension:i,addWidgetData:o,getWidgetData:u,addEarlyExtension:a,maybeRunExtension:s,maybeRunEarlyExtension:d,maybeRunExtensionRender:f,reset:function(){g={},h={}}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n,t=t||{};n="li_act_server"in t?t.li_act_server:p["default"].activity.activityServer;var r=n+"/__activity.gif?"+h["default"].forCurrentExample();if(r+="&e="+encodeURIComponent(e),"widget_click"==e&&(p["default"].clickHist.onLocalStorage&&w["default"].appendToClickHist(t.clickUrl,t.w,t.source),p["default"].clickHist.onCookie&&v["default"].appendToClickHist(t.clickUrl,t.w,t.source),v["default"].hasCookiesEnabled()&&v["default"].updateClickIndex()),p["default"].shown.vizSendCap&&("widget_shown"==e||"widget_visible"==e||"widget_click"==e)&&Array.isArray(t.vi)&&(t.vi=t.vi.slice(0,p["default"].shown.vizSendCap)),"conversion"==e&&!t.source){var i=b["default"].getURLParameter("li_source"),a=b["default"].getURLParameter("li_medium");i&&(t.source=i),a&&(t.w=a)}for(var o in p["default"].globalCtx)p["default"].globalCtx.hasOwnProperty(o)&&(r+="&"+o+"="+encodeURIComponent(p["default"].globalCtx[o]));for(var l in t)t.hasOwnProperty(l)&&(r+="[object Array]"===Object.prototype.toString.call(t[l])?"&"+l+"="+encodeURIComponent(JSON.stringify(t[l])):"&"+l+"="+encodeURIComponent(t[l]));return r}function a(e){w["default"].setItem(p["default"].latestVizKey,JSON.stringify(e))}function o(){return w["default"].getItem(p["default"].latestVizKey)}function l(e,t){try{if(p["default"].activity.activitySamplingPercent<100&&b["default"].djb2HashCode(p["default"].uid)%100>p["default"].activity.activitySamplingPercent)return;var n=window.location.href;if(n&&p["default"].defaultApiEvents&&"-1"!=p["default"].defaultApiEvents.indexOf(e)){if(p["default"].activity.itemRegex&&null===n.match(p["default"].activity.itemRegex))return;if(p["default"].activity.excludeRegex&&null!==n.match(p["default"].activity.excludeRegex))return}if(p["default"].jsKey||console.log("Liftigniter send called before Liftigniter init. The most typical reason for this is if you are including our Javascript snippet twice (this could be twice on the page, or once on the page and once in Google Tag Manager, or twice in Google Tag Manager). If you have more questions, please contact support@liftigniter.com"),p["default"].disabledCust[p["default"].jsKey])return void console.log("Thank you for using LiftIgniter! If you are interested in re-activating our service, please contact us at support@liftigniter.com");if(p["default"].jsKey&&!p["default"].disabledCust[p["default"].jsKey]){var r=new Image;r.src=i(e,t)}}catch(a){console.log("Unexpected error when trying to send event "+e,a)}}function u(){return p["default"].robustUseStorage?w["default"].getItem(p["default"].lastClick):p["default"].robustUseCookie?v["default"].getItem(p["default"].lastClick):void 0}function s(e,t){function n(e,t,n){n=b["default"].mergeMap(n,{method:"send_robust",buffer:e.name});var r=i(t,n);e.setItem(p["default"].lastClick,r);for(var a=0;a<e.maxMsgSlot&&e.getItem(p["default"].robustMsgSlot+a);a++);return a<e.maxMsgSlot&&e.setItem(p["default"].robustMsgSlot+a,r,120),r==e.getItem(p["default"].robustMsgSlot+a)?(f(e,a),!0):!1}if(!(p["default"].activity.activitySamplingPercent<100&&b["default"].djb2HashCode(p["default"].uid)%100>p["default"].activity.activitySamplingPercent)){if(!p["default"].jsKey)throw"Petametrics.send called before Petametrics.init";return p["default"].robustUseStorage&&n(w["default"],e,t)?!0:!(!p["default"].robustUseCookie||!n(v["default"],e,t))}}function f(e,t){var n=e.getItem(p["default"].robustMsgSlot+t);if(n){var r=function(){e.removeItem(p["default"].robustMsgSlot+t)},i=new Image;i.onload=r,i.src=n}}function d(){for(var e=0;e<v["default"].maxMsgSlot;e++)f(v["default"],e);for(var e=0;e<w["default"].maxMsgSlot;e++)f(w["default"],e)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),p=r(c),g=n(11),h=r(g),m=n(5),v=r(m),y=n(6),w=r(y),S=n(3),b=r(S);t["default"]={send:l,getUrl:i,sendRobust:s,checkBuffer:d,storeLatestVisibleItems:a,getLatestVisibleItems:o,getLastClick:u},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(window.location.search);return null==n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function a(e,t){t=t||"&";var n=i(e);return n?t+e+"="+n:""}function o(e,t){var n=e.split("?");if(n.length>=2){for(var r=encodeURIComponent(t)+"=",i=n[1].split(/[&;]/g),a=i.length;a-- >0;)-1!==i[a].lastIndexOf(r,0)&&i.splice(a,1);return e=n[0]+(i.length>0?"?"+i.join("&"):"")}return e}function l(e){return"ts="+encodeURIComponent(h["default"].getCurrentTime())+"&jsk="+encodeURIComponent(s["default"].jsKey)+"&jsv="+encodeURIComponent(s["default"].version)+"&cu="+(e?s["default"].activity.urlTransform(s["default"].frontPageBoost):encodeURIComponent(s["default"].activity.urlTransform(s["default"].currentUrl)))+(s["default"].errorString?"&errs="+s["default"].errorString:"");
}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),s=r(u),f=n(12),d=r(f),c=n(13),p=r(c),g=n(4),h=r(g),m=n(14),v=(r(m),n(15)),y=(r(v),n(6)),w=r(y),S=n(5),b=r(S);t["default"]={forCurrentExample:function(e){var t="",n="",r="",i="";if(s["default"].qOpt.dynScrollInfo)try{t="&sppx="+encodeURIComponent(d["default"].maxVertScrollPos())+"&sppc="+encodeURIComponent(d["default"].maxVertScrollPct())+"&dh="+encodeURIComponent(d["default"].getDocHeight())+"&iwid="+encodeURIComponent(window.innerWidth)+"&ihei="+encodeURIComponent(window.innerHeight)}catch(a){}try{var o;o=s["default"].histSettings.origin?"&ccu="+encodeURIComponent(s["default"].activity.canonicalUrlTransform(s["default"].histSettings.origin+window.location.pathname)):s["default"].customContext.id?"&ccu="+encodeURIComponent(s["default"].customContext.id):s["default"].useCanonicalUrl?"&ccu="+(e?encodeURIComponent(s["default"].frontPageBoost):encodeURIComponent(s["default"].activity.canonicalUrlTransform(p["default"].getCanonicalUrl()))):"",n="&ct="+encodeURIComponent(p["default"].getCurrentTitle())+o}catch(a){console.log(a)}try{var u="";s["default"].viewType&&(u="&vt="+s["default"].viewType);var f="";if(s["default"].getSeriesHistList()){var c=JSON.stringify(s["default"].getSeriesHistList());c&&"[]"!=c&&(f="&seriesHistory="+encodeURIComponent(c))}var g="";if(s["default"].getProdHistList()){var m=JSON.stringify(s["default"].getProdHistList());m&&"[]"!=m&&(g="&prodHistory="+encodeURIComponent(m))}var v="";s["default"].clickHist.send&&(s["default"].clickHist.onLocalStorage?v="&clkHist="+w["default"].getItem(s["default"].clickHist.clickHistLKey):s["default"].clickHist.onCookie&&(v="&clkHist="+JSON.stringify(b["default"].readCookie(s["default"].clickHist.clickHistCKey).split(",")))),r=u+f+g+v}catch(a){}try{s["default"].currentSeries&&""!=s["default"].currentSeries&&void 0!==s["default"].currentSeries&&(i="&currentSeries="+encodeURIComponent(s["default"].currentSeries))}catch(a){}return l()+(s["default"].gid?"&gid="+encodeURIComponent(s["default"].gid):"")+"&uid="+encodeURIComponent(s["default"].uid)+"&sid="+encodeURIComponent(s["default"].sid)+"&pvid="+encodeURIComponent(s["default"].pvid)+"&hist="+(s["default"].sdk.manualHist?encodeURIComponent(JSON.stringify(s["default"].sdk.manualHist)):encodeURIComponent(JSON.stringify(s["default"].getHistList())))+"&tzo="+encodeURIComponent(h["default"].getTimezoneOffset())+"&ua="+encodeURIComponent(s["default"].userAgent)+"&l="+encodeURIComponent(s["default"].language)+"&os="+encodeURIComponent(s["default"].os)+(s["default"].qOpt.screenDim?"&scd="+encodeURIComponent(s["default"].colorDepth)+"&scrh="+encodeURIComponent(s["default"].screenHeight)+"&scrw="+encodeURIComponent(s["default"].screenWidth):"")+"&ref="+encodeURIComponent(s["default"].referrer)+"&sref="+encodeURIComponent(s["default"].sref)+"&uref="+encodeURIComponent(s["default"].uref)+"&pis="+encodeURIComponent(s["default"].pis)+"&siu="+encodeURIComponent(s["default"].siu)+"&piu="+encodeURIComponent(s["default"].piu)+(s["default"].npiu?"&npiu="+encodeURIComponent(s["default"].npiu):"")+(s["default"].cis?"&cis="+encodeURIComponent(s["default"].cis):"")+(s["default"].ciu?"&ciu="+encodeURIComponent(s["default"].ciu):"")+(s["default"].dpis?"&dpis="+encodeURIComponent(s["default"].dpis):"")+(s["default"].dpiu?"&dpiu="+encodeURIComponent(s["default"].dpiu):"")+(s["default"].iriu?"&iriu="+encodeURIComponent(s["default"].iriu):"")+t+n+r+i+(s["default"].customInfo?s["default"].customInfo():"")},getParam:i,copyParam:a,removeParam:o,basicParam:l},e.exports=t["default"]},function(e,t){"use strict";function n(){var e=document.body;return document&&document.scrollTop||e&&e.scrollTop||0}function r(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight||0,t.scrollHeight||0,e.offsetHeight||0,t.offsetHeight||0,e.clientHeight||0,t.clientHeight||0)}function i(){var e=document.body,t=document.documentElement;return window.innerHeight||t.clientHeight||e.clientHeight||0}function a(){var e=(n()+i())/r()*100;return e>=100?100:0>=e?0:e}function o(){var e=n();e>l&&(l=e);var t=a();t>u&&(u=Math.floor(t))}Object.defineProperty(t,"__esModule",{value:!0});var l=0,u=0;t["default"]={getDocHeight:r,getWinHeight:i,getVertScrollPos:n,getVertScrollPct:a,checkScroll:o,maxVertScrollPos:function(){return l},maxVertScrollPct:function(){return u},reset:function(){u=0,l=0}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){t="undefined"!=typeof t?t:!1;for(var n=[],r=x.querySelectorAll(e),i=0;i<r.length;i++)n.push(r[i].textContent);return t?n:n[0]}function a(e,t,n){n="undefined"!=typeof n?n:!1;for(var r=[],i=x.querySelectorAll(e),a=0;a<i.length;a++)r.push(i[a].getAttribute(t));return n?r:r[0]}function o(e,t){for(var n=!0;n;){var r=e,i=t;if(n=!1,0==i.length)return r;e=r[i[0]],t=i.slice(1),n=!0}}function l(e){return o(k,e.split("."))}function u(e,t){if("undefined"!=typeof t){var n=[],r=t.exec(e);if(t.global)for(;r;)n=n.concat(r.slice(1)),r=t.exec(e);else n=r.slice(1);return n}return[e]}function s(e){for(var t={},n=x.querySelectorAll("meta[property^='"+e+":'][content]"),r=0;r<n.length;r++){var i=n[r].getAttribute("property").slice(e.length+1),a=t[i]||[];a.push(n[r].getAttribute("content")),t[i]=a}return t}function f(){var e=s("og");if(void 0!=e.type){var t=e.type[0].split(".")[0],n=b["default"].inventory.defaultType;switch(t){case"article":case"video":case"book":case"music":e=w["default"].mergeMap(s(t),e);break;default:e=w["default"].mergeMap(s(n),e)}}return e}function d(){var e=x.querySelector("#liftigniter-metadata");if(e){var t=JSON.parse(e.textContent);for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if("number"!=typeof r){r=[].concat(r);for(var i=0;i<r.length;i++)r[i]=r[i].toString()}}return t}return{}}function c(e){var t,n=[];try{if("text"==e.type?t=i(e.selector,!0):"attribute"==e.type?t=a(e.selector,e.attribute,!0):"url"==e.type?t=k.location.href:"var"==e.type&&(t=[l(e.variable).toString()]),t)for(var r=0;r<t.length;r++){var o=t[r];"function"==typeof e.transform&&(o=e.transform(o)),o=u(o,e.regex),"undefined"!=typeof e.joinWith&&(o=[o.join(e.joinWith)]),n=n.concat(o)}}catch(s){n=[]}return n}function p(){var e=x.querySelector("meta[property='og:title'][content]");return e?e.getAttribute("content"):g()||"-1"}function g(){var e=x.getElementsByTagName("title");return e.length>0?e[0].textContent:void 0}function h(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.host+t.pathname+t.search+t.hash}function m(){function e(){if(b["default"].inventory.useOpenGraphForCanonicalUrl&&(e=x.querySelector("meta[property='og:url'][content]")))return e.getAttribute("content");if(b["default"].inventory.useLinkRelForCanonicalUrl){var e=x.querySelector("link[rel=canonical][href]");if(e)return h(e.getAttribute("href"))}var t=k.location.href;return b["default"].inventory.stripTagsForCanonicalUrl&&(t=t.split("?")[0]),b["default"].inventory.stripHashesForCanonicalUrl&&(t=t.split("#")[0]),t}return v||(v=b["default"].inventory.canonicalUrlTransform(e())),v}Object.defineProperty(t,"__esModule",{value:!0});var v,y=n(3),w=r(y),S=n(2),b=r(S),k=window,x=document;t["default"]={getCurrentTitle:p,getTitleFallback:g,getCanonicalUrl:m,getText:i,getAttribute:a,scrapeFeature:c,scrapeOpenGraph:f,scrapeJSON:d},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={randomString:function(){return Math.random().toString(36).substr(2,16)}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={hash:function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,i,a,o;return i=2147483648&e,a=2147483648&t,n=1073741824&e,r=1073741824&t,o=(1073741823&e)+(1073741823&t),n&r?2147483648^o^i^a:n|r?1073741824&o?3221225472^o^i^a:1073741824^o^i^a:o^i^a}function r(e,t,n){return e&t|~e&n}function i(e,t,n){return e&n|t&~n}function a(e,t,n){return e^t^n}function o(e,t,n){return t^(e|~n)}function l(e,i,a,o,l,u,s){return e=n(e,n(n(r(i,a,o),l),s)),n(t(e,u),i)}function u(e,r,a,o,l,u,s){return e=n(e,n(n(i(r,a,o),l),s)),n(t(e,u),r)}function s(e,r,i,o,l,u,s){return e=n(e,n(n(a(r,i,o),l),s)),n(t(e,u),r)}function f(e,r,i,a,l,u,s){return e=n(e,n(n(o(r,i,a),l),s)),n(t(e,u),r)}function d(e){for(var t,n=e.length,r=n+8,i=(r-r%64)/64,a=16*(i+1),o=Array(a-1),l=0,u=0;n>u;)t=(u-u%4)/4,l=u%4*8,o[t]=o[t]|e.charCodeAt(u)<<l,u++;return t=(u-u%4)/4,l=u%4*8,o[t]=o[t]|128<<l,o[a-2]=n<<3,o[a-1]=n>>>29,o}function c(e){var t,n,r="",i="";for(n=0;3>=n;n++)t=e>>>8*n&255,i="0"+t.toString(16),r+=i.substr(i.length-2,2);return r}function p(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}var g,h,m,v,y,w,S,b,k,x=Array(),I=7,C=12,R=17,T=22,_=5,U=9,E=14,O=20,P=4,A=11,H=16,j=23,K=6,D=10,L=15,M=21;for(e=p(e),x=d(e),w=1732584193,S=4023233417,b=2562383102,k=271733878,g=0;g<x.length;g+=16)h=w,m=S,v=b,y=k,w=l(w,S,b,k,x[g+0],I,3614090360),k=l(k,w,S,b,x[g+1],C,3905402710),b=l(b,k,w,S,x[g+2],R,606105819),S=l(S,b,k,w,x[g+3],T,3250441966),w=l(w,S,b,k,x[g+4],I,4118548399),k=l(k,w,S,b,x[g+5],C,1200080426),b=l(b,k,w,S,x[g+6],R,2821735955),S=l(S,b,k,w,x[g+7],T,4249261313),w=l(w,S,b,k,x[g+8],I,1770035416),k=l(k,w,S,b,x[g+9],C,2336552879),b=l(b,k,w,S,x[g+10],R,4294925233),S=l(S,b,k,w,x[g+11],T,2304563134),w=l(w,S,b,k,x[g+12],I,1804603682),k=l(k,w,S,b,x[g+13],C,4254626195),b=l(b,k,w,S,x[g+14],R,2792965006),S=l(S,b,k,w,x[g+15],T,1236535329),w=u(w,S,b,k,x[g+1],_,4129170786),k=u(k,w,S,b,x[g+6],U,3225465664),b=u(b,k,w,S,x[g+11],E,643717713),S=u(S,b,k,w,x[g+0],O,3921069994),w=u(w,S,b,k,x[g+5],_,3593408605),k=u(k,w,S,b,x[g+10],U,38016083),b=u(b,k,w,S,x[g+15],E,3634488961),S=u(S,b,k,w,x[g+4],O,3889429448),w=u(w,S,b,k,x[g+9],_,568446438),k=u(k,w,S,b,x[g+14],U,3275163606),b=u(b,k,w,S,x[g+3],E,4107603335),S=u(S,b,k,w,x[g+8],O,1163531501),w=u(w,S,b,k,x[g+13],_,2850285829),k=u(k,w,S,b,x[g+2],U,4243563512),b=u(b,k,w,S,x[g+7],E,1735328473),S=u(S,b,k,w,x[g+12],O,2368359562),w=s(w,S,b,k,x[g+5],P,4294588738),k=s(k,w,S,b,x[g+8],A,2272392833),b=s(b,k,w,S,x[g+11],H,1839030562),S=s(S,b,k,w,x[g+14],j,4259657740),w=s(w,S,b,k,x[g+1],P,2763975236),k=s(k,w,S,b,x[g+4],A,1272893353),b=s(b,k,w,S,x[g+7],H,4139469664),S=s(S,b,k,w,x[g+10],j,3200236656),w=s(w,S,b,k,x[g+13],P,681279174),k=s(k,w,S,b,x[g+0],A,3936430074),b=s(b,k,w,S,x[g+3],H,3572445317),S=s(S,b,k,w,x[g+6],j,76029189),w=s(w,S,b,k,x[g+9],P,3654602809),k=s(k,w,S,b,x[g+12],A,3873151461),b=s(b,k,w,S,x[g+15],H,530742520),S=s(S,b,k,w,x[g+2],j,3299628645),w=f(w,S,b,k,x[g+0],K,4096336452),k=f(k,w,S,b,x[g+7],D,1126891415),b=f(b,k,w,S,x[g+14],L,2878612391),S=f(S,b,k,w,x[g+5],M,4237533241),w=f(w,S,b,k,x[g+12],K,1700485571),k=f(k,w,S,b,x[g+3],D,2399980690),b=f(b,k,w,S,x[g+10],L,4293915773),S=f(S,b,k,w,x[g+1],M,2240044497),w=f(w,S,b,k,x[g+8],K,1873313359),k=f(k,w,S,b,x[g+15],D,4264355552),b=f(b,k,w,S,x[g+6],L,2734768916),S=f(S,b,k,w,x[g+13],M,1309151649),w=f(w,S,b,k,x[g+4],K,4149444226),k=f(k,w,S,b,x[g+11],D,3174756917),b=f(b,k,w,S,x[g+2],L,718787259),S=f(S,b,k,w,x[g+9],M,3951481745),w=n(w,h),S=n(S,m),b=n(b,v),k=n(k,y);var q=c(w)+c(S)+c(b)+c(k);return q.toLowerCase()}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=r(i),o=n(3),l=r(o),u=window,s=[];t["default"]={initializeTimers:function(){if(a["default"].qOpt.sendTimer&&a["default"].timers)for(var e in a["default"].timers)this.sendLater(e,a["default"].timers[e])},clearTimers:function(){for(var e=0;e<s.length;e++)u.clearTimeout(s[e])},sendLater:function(e,t){s.push(u.setTimeout(function(){var t={w:l["default"].getURLParameter("li_medium"),source:l["default"].getURLParameter("li_source")};u[a["default"].pmVar]("send",e,t)},t))}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n,r){t=t||{};var i=e.getAttribute(n)||e.getAttribute("data-"+n);return i?i:t.hasOwnProperty(n)?t[n]:r}function a(e,t,n){try{var r=n||"li",i=e.href;i.indexOf(r+"_")>=0&&(i=v["default"].removeParam(i,r+"_source"),i=v["default"].removeParam(i,r+"_medium")),e.href=i+(i.indexOf("?")>=0?"&":"?")+(t.source?r+"_source="+t.source:"")+(t.w?"&"+r+"_medium="+t.w:"")}catch(a){console.log("Error tagging anchors. This usually happens when were unable to find any anchors in the tracked area. It could be because you are tracking the incorrect area, or it could be because the content loads dynamically. Click tracking may still work but we won't be able to determine the click URL."),h["default"].errorString=""+a,I["default"].send("widget_tracking_error",t),h["default"].errorString=void 0}}function o(e,t,n,r){if(!(P[e].numUnitsToTag<=0)){var i=Array.prototype.slice.call(t.querySelectorAll(n));i&&i.length>0&&P[e].numUnitsToTag-- >0&&i.forEach(function(e){a(e,r)})}}function l(e,t,n){var r=P[e].el,l=S["default"].clone(P[e].opts);if(!l.noCollectWidgetInfo){if(l["max-link"]=i(r,l,"max-link",t.maxLink),l["collect-link-selector"]=i(r,l,"collect-link-selector",t.collectLinkSelector),l["tag-unit-max"]=l["tag-unit-max"]||t.tagUnitMax||1e5,l["tag-unit-selector"]=l["tag-unit-selector"]||t.tagUnitSelector,l["tag-link-selector"]=i(r,l,"tag-link-selector",t.tagLinkSelector),l.noTag=l.noTag||t.noTag||h["default"].noTag||!1,n=n||{},n.w=P[e].name,!l.noTag){var u=l["tag-link-selector"];l["tag-unit-selector"]?(P[e].numUnitsToTag=l["tag-unit-max"],Array.prototype.slice.call(r.querySelectorAll(l["tag-unit-selector"])).forEach(function(t){o(e,t,u,n)}),k["default"].addEvent(r,"DOMNodeInserted",function(t){var r=document.createElement("div");r.innerHTML=t.target.outerHTML||"",r.querySelector(l["tag-unit-selector"])&&o(e,t.target,u,n)})):Array.prototype.slice.call(r.querySelectorAll(u)).forEach(function(e){a(e,n)})}var s=Array.prototype.slice.call(r.querySelectorAll(l["collect-link-selector"])).map(function(e){return e.href}).filter(function(e){return e}).slice(0,l["max-link"]);l.noClickTracking||(c(r,l,n,s),f(r,l,n,e));var d=S["default"].mergeMap(n,{vi:JSON.stringify(s)});I["default"].storeLatestVisibleItems(s),I["default"].send("widget_shown",d)}}function u(e,t,n,r){var i=S["default"].mergeMap({clickUrl:h["default"].trackingTransURL(e.href)},n);"function"==typeof h["default"].sdk.widgetAnalysis&&(i=h["default"].sdk.widgetAnalysis(e,i)),k["default"].addEvent(e,"click",function(e){i.trigger="click",d(e,t,i,r)}),k["default"].addEvent(e,"contextmenu",function(e){i.trigger="contextmenu",d(e,t,i,r)})}function s(e,t,n,r,i){if(!(P[e].numUnitsToTrack<=0)){var a=Array.prototype.slice.call(t.querySelectorAll(n));a&&a.length>0&&P[e].numUnitsToTrack-- >0&&a.forEach(function(e){u(e,r,i)})}}function f(e,t,n,r){var i=t["tag-link-selector"];t["tag-unit-selector"]?(P[r].numUnitsToTrack=t["tag-unit-max"],Array.prototype.slice.call(e.querySelectorAll(t["tag-unit-selector"])).forEach(function(e){s(r,e,i,t,n)}),k["default"].addEvent(e,"DOMNodeInserted",function(e){var a=document.createElement("div");a.innerHTML=e.target.outerHTML||"",a.querySelector(t["tag-unit-selector"])&&s(r,e.target,i,t,n)})):Array.prototype.slice.call(e.querySelectorAll(i)).forEach(function(e){u(e,t,n)})}function d(e,t,n,r){var i=n.tType||"widget";r&&alert("click for "+n.w+":"+n.source),I["default"].sendRobust(i+"_click",n)||(n=S["default"].mergeMap(n,{method:"on_page"}),I["default"].send(i+"_click",n),e.metaKey||e.shiftKey||"click"!=e.type||(e.preventDefault(),E.setTimeout(function(){E.location.href=url},100)))}function c(e,t,n,r){var a=function(){_["default"].isElementVisible(e)&&!i(e,t,"visible",!1)&&(I["default"].send("widget_visible",n),e.setAttribute("data-visible","1"),R["default"].storeVisibleElements(r))};k["default"].addEvent(O,"DOMContentLoaded",a),k["default"].addEvent(O,"load",a),k["default"].addEvent(O,"resize",a),k["default"].addEvent(O,"scroll",a)}Object.defineProperty(t,"__esModule",{value:!0});var p=n(18),g=(r(p),n(2)),h=r(g),m=n(11),v=r(m),y=n(9),w=(r(y),n(3)),S=r(w),b=n(8),k=r(b),x=n(10),I=r(x),C=n(6),R=r(C),T=n(19),_=r(T),U=n(5),E=(r(U),window),O=document,P={};t["default"]={widgets:P,collectWidgetInfo:l,tagAnchor:a,trackAnchor:u,onClick:d},e.exports=t["default"]},function(e,t,n){var r,i,a;/*!
	 * mustache.js - Logic-less {{mustache}} templates with JavaScript
	 * http://github.com/janl/mustache.js
	 */
!function(n,o){"object"==typeof t&&t&&"string"!=typeof t.nodeName?o(t):(i=[t],r=o,a="function"==typeof r?r.apply(t,i):r,!(void 0!==a&&(e.exports=a)))}(this,function(e){function t(e){return"function"==typeof e}function n(e){return h(e)?"array":typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}function a(e,t){return m.call(e,t)}function o(e){return!a(v,e)}function l(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return y[e]})}function u(t,n){function i(){if(v&&!y)for(;m.length;)delete g[m.pop()];else m=[];v=!1,y=!1}function a(e){if("string"==typeof e&&(e=e.split(S,2)),!h(e)||2!==e.length)throw new Error("Invalid tags: "+e);l=new RegExp(r(e[0])+"\\s*"),u=new RegExp("\\s*"+r(e[1])),c=new RegExp("\\s*"+r("}"+e[1]))}if(!t)return[];var l,u,c,p=[],g=[],m=[],v=!1,y=!1;a(n||e.tags);for(var I,C,R,T,_,U,E=new d(t);!E.eos();){if(I=E.pos,R=E.scanUntil(l))for(var O=0,P=R.length;P>O;++O)T=R.charAt(O),o(T)?m.push(g.length):y=!0,g.push(["text",T,I,I+1]),I+=1,"\n"===T&&i();if(!E.scan(l))break;if(v=!0,C=E.scan(x)||"name",E.scan(w),"="===C?(R=E.scanUntil(b),E.scan(b),E.scanUntil(u)):"{"===C?(R=E.scanUntil(c),E.scan(k),E.scanUntil(u),C="&"):R=E.scanUntil(u),!E.scan(u))throw new Error("Unclosed tag at "+E.pos);if(_=[C,R,I,E.pos],g.push(_),"#"===C||"^"===C)p.push(_);else if("/"===C){if(U=p.pop(),!U)throw new Error('Unopened section "'+R+'" at '+I);if(U[1]!==R)throw new Error('Unclosed section "'+U[1]+'" at '+I)}else"name"===C||"{"===C||"&"===C?y=!0:"="===C&&a(R)}if(U=p.pop())throw new Error('Unclosed section "'+U[1]+'" at '+E.pos);return f(s(g))}function s(e){for(var t,n,r=[],i=0,a=e.length;a>i;++i)t=e[i],t&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function f(e){for(var t,n,r=[],i=r,a=[],o=0,l=e.length;l>o;++o)switch(t=e[o],t[0]){case"#":case"^":i.push(t),a.push(t),i=t[4]=[];break;case"/":n=a.pop(),n[5]=t[2],i=a.length>0?a[a.length-1][4]:r;break;default:i.push(t)}return r}function d(e){this.string=e,this.tail=e,this.pos=0}function c(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function p(){this.cache={}}var g=Object.prototype.toString,h=Array.isArray||function(e){return"[object Array]"===g.call(e)},m=RegExp.prototype.test,v=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},w=/\s*/,S=/\s+/,b=/\s*=/,k=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/;d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},d.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},c.prototype.push=function(e){return new c(e,this)},c.prototype.lookup=function(e){var n,r=this.cache;if(r.hasOwnProperty(e))n=r[e];else{for(var a,o,l=this,u=!1;l;){if(e.indexOf(".")>0)for(n=l.view,a=e.split("."),o=0;null!=n&&o<a.length;)o===a.length-1&&(u=i(n,a[o])),n=n[a[o++]];else n=l.view[e],u=i(l.view,e);if(u)break;l=l.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=u(e,t)),r},p.prototype.render=function(e,t,n){var r=this.parse(e),i=t instanceof c?t:new c(t);return this.renderTokens(r,i,n,e)},p.prototype.renderTokens=function(e,t,n,r){for(var i,a,o,l="",u=0,s=e.length;s>u;++u)o=void 0,i=e[u],a=i[0],"#"===a?o=this.renderSection(i,t,n,r):"^"===a?o=this.renderInverted(i,t,n,r):">"===a?o=this.renderPartial(i,t,n,r):"&"===a?o=this.unescapedValue(i,t):"name"===a?o=this.escapedValue(i,t):"text"===a&&(o=this.rawValue(i)),void 0!==o&&(l+=o);return l},p.prototype.renderSection=function(e,n,r,i){function a(e){return o.render(e,n,r)}var o=this,l="",u=n.lookup(e[1]);if(u){if(h(u))for(var s=0,f=u.length;f>s;++s)l+=this.renderTokens(e[4],n.push(u[s]),r,i);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)l+=this.renderTokens(e[4],n.push(u),r,i);else if(t(u)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");u=u.call(n.view,i.slice(e[3],e[5]),a),null!=u&&(l+=u)}else l+=this.renderTokens(e[4],n,r,i);return l}},p.prototype.renderInverted=function(e,t,n,r){var i=t.lookup(e[1]);return!i||h(i)&&0===i.length?this.renderTokens(e[4],t,n,r):void 0},p.prototype.renderPartial=function(e,n,r){if(r){var i=t(r)?r(e[1]):r[e[1]];return null!=i?this.renderTokens(this.parse(i),n,r,i):void 0}},p.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);return null!=n?n:void 0},p.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);return null!=r?e.escape(r):void 0},p.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.2.1",e.tags=["{{","}}"];var I=new p;e.clearCache=function(){return I.clearCache()},e.parse=function(e,t){return I.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return I.render(e,t,r)},e.to_html=function(n,r,i,a){var o=e.render(n,r,i);return t(a)?void a(o):o},e.escape=l,e.Scanner=d,e.Context=c,e.Writer=p})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){c["default"].refresh(),y["default"].refresh(),g["default"].initializeCookies(),f["default"].clearTimers(),f["default"].initializeTimers(),m["default"].send("pageview")}function a(){if(window.history){var e=window.history.pushState;window.history.pushState=function(t){return c["default"].sdk.pushStateReset&&setTimeout(i,0),e.apply(window.history,arguments)};var t=window.history.replaceState;window.history.replaceState=function(e){return c["default"].sdk.replaceStateReset&&setTimeout(i,0),t.apply(window.history,arguments)}}var n=window.onhashchange||function(){return!0};window.onhashchange=function(){return w&&setTimeout(i,0),n.apply(window,arguments)}}function o(e){w=e}function l(e){S=e}function u(e){var t=e.getBoundingClientRect(),n=window.innerWidth||doc.documentElement.clientWidth,r=window.innerHeight||doc.documentElement.clientHeight,i=function(e,t){return document.elementFromPoint(e,t)};return t.right<0||t.bottom<0||t.left>n||t.top>r?!1:e.contains(i(t.left,t.top))||e.contains(i(t.right,t.top))||e.contains(i(t.right,t.bottom))||e.contains(i(t.left,t.bottom))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(16),f=r(s),d=n(2),c=r(d),p=n(5),g=r(p),h=n(10),m=r(h),v=n(20),y=r(v),w=!0,S=c["default"].sdk.pushStateReset||!1;c["default"].sdk.replaceStateReset||!1;t["default"]={initializeNavigationEvents:a,setOnHashChangeReset:o,setPushStateReset:l,isElementVisible:u},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=r(i);t["default"]={fetchData:{finalized:!1,startTime:0,timeout:1e4,fetchQueue:[],dedupQueue:{},recs:{},calls:{},dedupMax:{}},refresh:function(){this.fetchData=a["default"].mergeMap(this.fetchData,{dedupQueue:{}})}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=o["default"].inventory.collectOpenGraph?f["default"].scrapeOpenGraph():{};if(o["default"].inventory.collectOpenGraphOnly)for(var t=0;t<o["default"].inventory.mandatoryOpenGraphFeatures.length;t++)if(void 0===e[o["default"].inventory.mandatoryOpenGraphFeatures[t]])return void(o["default"].debug&&console.log("LI: You are missing the following Open Graph feature for your metadata: "+o["default"].inventory.mandatoryOpenGraphFeatures[t]));var n=o["default"].inventory.features;if(n)for(var t=0;t<n.length;t++){var r=n[t],i=f["default"].scrapeFeature(r);i&&i.length>0&&(e[r.name]=i)}e.title||(e.title=[f["default"].getTitleFallback()]),e.url=[f["default"].getCanonicalUrl()],o["default"].inventory.collectJSON&&(e=c["default"].mergeMap(e,f["default"].scrapeJSON()));for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];(void 0===i||null===i||i.length<=0)&&delete e[a]}for(var t=0;t<o["default"].inventory.mandatoryFeatures.length;t++)if(void 0===e[o["default"].inventory.mandatoryFeatures[t]])return void(o["default"].debug&&console.log("LI: You are missing the following feature for your metadata: "+o["default"].inventory.mandatoryFeatures[t]));return e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),l=n(11),u=r(l),s=n(13),f=r(s),d=n(3),c=r(d),p=n(10);r(p);t["default"]={collect:function(){var e=o["default"].inventory.inventoryServer+"/"+o["default"].inventory.inventoryApiVersion+"/__inventory.gif?"+u["default"].basicParam(),t=i(),n=o["default"].inventory.itemRegex,r=o["default"].inventory.excludeRegex,a=o["default"].inventory.filters;if(a&&t)for(var l=0;l<a.length;l++)if((t[a[l].name]||[]).indexOf(a[l].value)>=0){if("true"!=a[l].negate)return}else if("true"==a[l].negate)return;if(!(n&&t[o["default"].inventory.id]&&t[o["default"].inventory.id][0]&&null===t[o["default"].inventory.id][0].match(n))&&!(r&&t[o["default"].inventory.id]&&t[o["default"].inventory.id][0]&&null!==t[o["default"].inventory.id][0].match(r))&&void 0!==t&&Object.keys(t).length>1){e+="&item="+encodeURIComponent(JSON.stringify(t)),e+=void 0===o["default"].inventory.version?"":"&ver="+o["default"].inventory.version,e+="&ttl=0";var s=new Image;s.src=e}},scrapeInventory:i},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return e&&t in e&&typeof e[t]==n?e[t]:void console.log("LI: Invalid or missing parameter: "+t)}function a(){return ee["default"].getWidgetData()}function o(e){return 0==Object.keys(e).length}function l(){return!o(a())}function u(e){var t=ne["default"].getObjectKeys(a().widgets);if(e&&"function"==typeof e)return e(t);if(e){var n=i(e,"callback","function");return n?n(t):t}return t}function s(e,t,n){return t in e?e[t]:n}function f(e){for(var t in e)e[t]||delete e[t];return ne["default"].djb2HashCode(JSON.stringify(e))}function d(e){if(e){var t=i(e,"max","number"),n=i(e,"callback","function"),r=i(e,"widget","string");t&&n&&r||console.log("LI: Missing required parameter max, callback, and/or widget"),e.itemsToRank&&(e.opts=e.opts||{},e.opts.$itemsToRank=JSON.stringify(e.itemsToRank),delete e.itemsToRank),e.optsKey=f(e.opts||{}),ce["default"].fetchData.fetchQueue.push(e)}}function c(e,t,n){var r=s(ce["default"].fetchData.dedupQueue,n,[]),i=[],a=$["default"].sdk.iden;if(e.items)if(e.items.length)try{for(var o=0,l=0;o<e.items.length&&t>l;++o){var u=e.items[o][a]||"",f=ne["default"].djb2HashCode(u);if(1!=r[f]){""!=n&&(r[f]=1);var d=ne["default"].clone(e.items[o]);d.rank=++l,i.push(d)}}}catch(c){}else console.log("LI: Query response received from LiftIgniter was either empty or not of the proper type. This could be due to a timeout, network error, or server error. If you see this error repeatedly, contact support@liftigniter.com with full context.");else console.log("LI: The query response received from LiftIgniter did not have any items. This could be due to a timeout, network error, or server error. If you see this error repeatedly, contact support@liftigniter.com with full context.");return""!=n&&(ce["default"].fetchData.dedupQueue[n]=r),{items:i}}function p(e,t){$["default"].customCallback&&$["default"].customCallback(ce["default"].fetchData.recs[e.optsKey].items),e.callback(c(ce["default"].fetchData.recs[e.optsKey],e.max,t))}function g(e){$["default"].refresh(),ce["default"].refresh(),me["default"].initializeCookies(),ye["default"].clearTimers(),ye["default"].initializeTimers(),oe["default"].send("pageview",e)}function h(){return{dedupGroups:{},max:0,fetchInfo:{}}}function m(){if(!ce["default"].fetchData.finalized){var e=a(),t="backup_recs_"+$["default"].jsKey;we[t]=function(t){we.setTimeout(function(){ce["default"].fetchData.finalized||(ce["default"].fetchData.finalized=!0,ce["default"].fetchData.fetchQueue.forEach(function(n){e.widgets[n.widget]?n.callback(c(t,n.max,e.widgets[n.widget].dedupGid)):n.callback(c(t,n.max,n.dedupGid||"0"))}),oe["default"].send("timeout",{method:"backupRec",interval:ce["default"].fetchData.timeout}))},Math.max(ce["default"].fetchData.startTime+ce["default"].fetchData.timeout-ne["default"].getTime(),0))};var n="//cdn.petametrics.com/backup_recs/"+$["default"].jsKey,r=Se.createElement("script");r.type="text/javascript",r.setAttribute("src",n),Se.head.appendChild(r)}}function v(){ce["default"].fetchData.finalized||(ce["default"].fetchData.finalized=!0,ce["default"].fetchData.fetchQueue.forEach(function(e){e.onTimeout&&"function"==typeof e.onTimeout&&e.onTimeout()}),oe["default"].send("timeout",{method:"onTimeout",interval:ce["default"].fetchData.timeout}))}function y(e){if("l4npme86811m9lj2"!==$["default"].jsKey&&"t75qi93gf85456b3"!==$["default"].jsKey&&"tjdqrtlcof1ros6t"!==$["default"].jsKey||$["default"].currentUrl!==window.location.href&&g(),$["default"].disabledCust[$["default"].jsKey])return void console.log("LI: Thank you for using LiftIgniter! If you are interested in re-activating our service, please contact us at support@liftigniter.com");if(!$["default"].jsKey)return void console.log("LI: Couldn't find your jsKey. Please initialize first.");if($["default"].sdk.fetchCalled&&!$["default"].sdk.multiFetch)return void console.log("LI: fetch called before. Doing nothing");$["default"].sdk.fetchCalled=!0,ce["default"].fetchData.finalized=!1,$["default"].sdk.multiFetch&&(ce["default"].fetchData.dedupQueue=[]),ce["default"].fetchData.startTime=ne["default"].getTime(),ce["default"].fetchData.timeout=e&&e.timeout||ce["default"].fetchData.timeout,ce["default"].fetchData.fetchQueue&&ce["default"].fetchData.fetchQueue.length>0&&($["default"].sdk.enableBackup?we.setTimeout(m,2500):we.setTimeout(v,ce["default"].fetchData.timeout),$["default"].sdk.retry&&we.setTimeout(w,4300));var t=a(),n={},r={};ce["default"].fetchData.fetchQueue.forEach(function(e){var i=n[e.optsKey]||h(),a=t.widgets||{},o=a[e.widget]||{},l=o.dedupGid||"0";l&&(r[l]=(r[l]||0)+e.max,i.dedupGroups[l]=!0),i.max=Math.max(i.max,e.max),i.resultType=e.resultType,i.fetchInfo[e.widget]=e.max,i.opts=e.opts||{},n[e.optsKey]=i}),ce["default"].fetchData.calls=n,ce["default"].fetchData.dedupMax=r;for(var i in n)S(i,$["default"].sdk.queryServer)}function w(){var e=ce["default"].fetchData.calls;for(var t in e)ce["default"].fetchData.finalized||ce["default"].fetchData.recs[t]||(console.log("LI: Recs have not been received for one of the keys, so we are retrying",t),S(t,$["default"].sdk.backupQueryServer))}function S(e,t){var n=ce["default"].fetchData.calls,r=ce["default"].fetchData.dedupMax,i=a();if(n.hasOwnProperty(e)){var o=n[e],l=0;for(var u in o.dedupGroups)l+=r[u];b({name:"default-widget",max:Math.max(o.max,l),resultType:o.resultType,opts:ne["default"].mergeMap(o.opts,{fetchInfo:JSON.stringify(o.fetchInfo)}),optsKey:e,serverName:t,callback:function(e,t){ce["default"].fetchData.finalized||(e.items?(ce["default"].fetchData.recs[t.optsKey]&&console.log("LI: We are overwriting previously fetched recommendations. As a general rule, this should not happen."),ce["default"].fetchData.recs[t.optsKey]=e,be(ce["default"].fetchData.recs)==be(n)&&(ce["default"].fetchData.finalized=!0,ce["default"].fetchData.fetchQueue.forEach(function(e){i.widgets[e.widget]?p(e,i.widgets[e.widget].dedupGid||""):p(e,"0")}),ce["default"].fetchData.fetchQueue=[],ce["default"].fetchData.recs={},ce["default"].fetchData.dedupQueue=[])):console.log("LI: Response does not seem to make sense, so punting"))}})}}function b(e){var t=$["default"].frontPageBoost?"ModelQ":void 0,n="igniter_"+ne["default"].generateUUID().replace(/-/g,""),r=F();r=isNaN(r)?"":"&forcedHash="+r,we[n]=function(t){e.callback(t,e)};var i=e.serverName+"/"+$["default"].sdk.queryApiVersion+"/model?jsonp="+n+"&"+Y["default"].forCurrentExample(t);i+=e.max?"&max="+encodeURIComponent(e.max):"",i+=e.name?"&w="+encodeURIComponent(e.name):"",i+=$["default"].sdk.requestFields?"&f="+encodeURIComponent(JSON.stringify($["default"].sdk.requestFields)):"",i+=$["default"].sdk.arrayRequestFields?"&arf="+encodeURIComponent(JSON.stringify($["default"].sdk.arrayRequestFields)):"";try{ue["default"].hasStorageEnabled()&&($["default"].shown.active&&$["default"].longHist.active?i+="&exc="+JSON.stringify(JSON.parse(ue["default"].getLongHist()).concat(JSON.parse(ue["default"].getFrequent()))):$["default"].longHist.active?i+="&exc="+JSON.stringify(JSON.parse(ue["default"].getLongHist())):$["default"].shown.active&&(i+="&exc="+JSON.stringify(JSON.parse(ue["default"].getFrequent()))))}catch(a){console.log("LI: Error when trying to add some storage data into query, continuing anyway. Contact support@liftigniter.com if you notice this, including information on your browser."),console.log("LI: Error details",a)}i+=$["default"].sdk.requestFieldsAON?"&fa="+encodeURIComponent($["default"].sdk.requestFieldsAON):"",i+=$["default"].sdk.getQueryInfo?"&gqi="+encodeURIComponent($["default"].sdk.getQueryInfo):"";for(var o in e.opts)e.opts.hasOwnProperty(o)&&(i+="object"==typeof e.opts[o]?"&"+o+"="+encodeURIComponent(JSON.stringify(e.opts[o])):"&"+o+"="+encodeURIComponent(e.opts[o]));i+=r;var l=document.createElement("script");l.type="text/javascript",l.setAttribute("src",i),document.head.appendChild(l)}function k(e,t){function n(e){13==e.which&&oe["default"].send("search_enter",{source:t,q:e.target.value})}var r=document.querySelector(e);r.addEventListener("keypress",n,!1)}function x(e){return[].concat.apply([],e.map(function(e){var t=Array.prototype.slice.call(e.querySelectorAll("a"));return"A"!=(e.tagName||e.nodeName||"")&&0!=t.length||t.push(e),t}))}function I(e,t){return x(e).map(function(e){return $["default"].trackingTransURL(e.href)}).filter(function(e){return t.test(e)}).slice(0,50)}function C(e,t,n,r,i,a){var o=i.type||"widget",l=i.page||"",u=function(){ge["default"].isElementVisible(e)&&!ke[t+l]&&(a&&alert("visible for "+t+":"+r.source),oe["default"].send(o+"_visible",ne["default"].mergeMap(ne["default"].mergeMap(r,i),{vi:JSON.stringify(n)})),ke[t+l]=!0,ue["default"].storeVisibleElements(n.slice(0,$["default"].shown.vizCap)))};u(),ie["default"].addEvent(Se,"DOMContentLoaded",T(u,250)),ie["default"].addEvent(Se,"load",T(u,250)),ie["default"].addEvent(Se,"resize",T(u,250)),ie["default"].addEvent(Se,"scroll",T(u,250))}function R(e){if(e){e.name||(console.log("LI: specify the widget name on tracking function. Setting widget name to default-widget by default"),e.name="default-widget"),"function"==typeof $["default"].sdk.customTrackFunc&&$["default"].sdk.customTrackFunc(e);var t=e.params||{},n=e.elements;if(n&&n.length&&n.length>0){n=Array.prototype.slice.call(n);var r=i(e,"name","string"),o=i(e,"source","string");if(r&&o){var l=a(),u=I(n,new RegExp(l.itemRegex)||/.*/),s=[];u.forEach(function(e){s.indexOf(e)<0&&s.push($["default"].trackingTransURL(e))});var f=e.opts||{},d=f.type||"widget",c={tType:d,source:o,w:r};"search"!=d?oe["default"].send(d+"_shown",ne["default"].mergeMap(c,{vi:JSON.stringify(s)})):e.q&&(c.q=e.q),"widget"===d&&n[0]&&C(n[0],r,s,c,f,e._debug);var p=x(n),g=t.tagPrefix?t.tagPrefix:"li",h=t.noTag||$["default"].noTag||!1,m=t.noClick||!1;p.forEach(function(t){h||fe["default"].tagAnchor(t,c,g),m||fe["default"].trackAnchor(t,f,ne["default"].mergeMap(c,{vi:JSON.stringify(s)}),e._debug)}),xe[r]=!0}}}}function T(e,t,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)},l=n&&!r;clearTimeout(r),r=setTimeout(o,t),l&&e.apply(i,a)}}function _(e){var t=ne["default"].djb2HashCode($["default"].uid||0);if(!e||"function"!=typeof e){if(e){var n=i(e,"callback","function");return n?n(t):(elseTe,t)}return t}e(t)}function U(e,t,n,r){var i=r||["{{","}}"];V["default"].parse(e,i);var a=V["default"].render(e,t);return"function"!=typeof n?a:void n(a)}function E(e){var t=a();"function"==typeof t.render?t.render(e):console.log("LI: Custom widget not defined.")}function O(e){"[object Array]"===Object.prototype.toString.call(e)?$["default"].sdk.requestFields=e:console.error("LI: Error setting request fields: input is not an array.")}function P(e){"[object Array]"===Object.prototype.toString.call(e)?$["default"].sdk.arrayRequestFields=e:console.error("LI: Error setting request fields: input is not an array.")}function A(e){"boolean"==typeof e?$["default"].sdk.requestFieldsAON=e:console.error("LI: Error setting request fields all or nothing: input is not a boolean.")}function H(e){"boolean"==typeof e?$["default"].sdk.getQueryInfo=e:console.error("Error changing setting on getting query info: input is not a boolean.")}function j(e){"boolean"==typeof e?$["default"].noTag=e:console.error("Error setting noTag: input is not a boolean.")}function K(e,t){var n=Array.prototype.slice.call(Se.querySelectorAll(e)),r=t||{st:0};return r.e=r.e||n.length,n.slice(r.st,r.e)}function D(e,t,n,r,i){var a,o=i||{};if(o.fullRender){var l=Se.querySelector(o.topLevelCss);l.innerHTML=V["default"].render(r,{items:n}),a=K(e,o.replaceRange)}else{a=K(e,o.replaceRange);for(var u=Math.min(a.length,n.length),s=0;u>s;++s)if(o.outer){var f=Se.createElement("div");f.innerHTML=V["default"].render(r,n[s]),a[s].parentNode.replaceChild(f.firstChild,a[s])}else a[s].innerHTML=V["default"].render(r,n[s]);o.outer&&(a=K(e,o.replaceRange))}R({elements:a,name:t,source:"LI",params:{tagPrefix:o.tagPrefix,noTag:o.noTag}}),o["on-load"]&&eval.call(we,o["on-load"])}function L(e,t,n,r,i,a,o){a=a||{},d({max:e,widget:n,callback:function(e){function i(){a.preproc&&(u=we[a.preproc](u)),D(t,n,u,r,a)}function l(){var e=a.fullRender?a.topLevelCss:t;return Se.querySelectorAll(e).length>0}var u=e.items,s=o||l;ie["default"].doWhenReady(s,i)},opts:i||{}})}function M(e,t,n,r){function i(){var t=a.fullRender?a.topLevelCss:e;return Se.querySelectorAll(t).length>0}var a=n||{},o=r||i;ie["default"].doWhenReady(o,function(){var n=K(e,a.replaceRange);R({elements:n,name:t,source:"base",params:{tagPrefix:a.tagPrefix,noTag:a.noTag}})})}function q(){if(-1!=we.location.search.indexOf("igniter_abhash")){var e=parseInt(Y["default"].getParam("igniter_abhash"));if(!isNaN(e)&&100>e&&e>=0)return e}return _()%100}function N(e){if(e){var t=i(e,"callback","function");if(t)return t(q())}}function F(){if(-1!=we.location.search.indexOf("ig_exp_hash")){var e=parseInt(Y["default"].getParam("ig_exp_hash"));if(!isNaN(e)&&100>e&&e>=0)return e}}function J(e){if($["default"].inventory.collect)return void console.log("LI: Default scraping is turned on. Turn off automatic scraping");var t=e||{},n=$["default"].inventory.mandatoryFeatures,r=$["default"].inventory.inventoryServer+"/"+$["default"].inventory.inventoryApiVersion+"/__inventory.gif?"+Y["default"].basicParam(),i=!1;for(var a in t)if(t.hasOwnProperty(a)){var o=typeof t[a];if("string"===o||"number"===o)t[a]=t[a];else if(void 0===t[a])console.log("LI: A field is undefined. Removing the field"),delete t[a];else{if(!(t[a].length>=0))throw"LI: LI only accepts String, Number, or array of Strings for object values";i=!0}}for(var l=0;l<n.length;l++)if(!t[n[l]])throw"LI: You are missing the following feature for your metadata: "+n[l];if(void 0!==t&&Object.keys(t).length>1){r+="&item="+encodeURIComponent(JSON.stringify(t)),r+=void 0===$["default"].inventory.version?"":"&ver="+$["default"].inventory.version;var u=new Image;u.src=r}}function B(e){return $["default"].sdk.manualHist?e instanceof Array?void($["default"].sdk.manualHist=e):void console.log("LI: Given argument is not an array."):void console.log("LI: Turn off the automatic history tracking")}function z(e){if("string"!=typeof e)return void console.log("LI: argument of pushBrowsingHist must be a String");$["default"].hist=me["default"].readCookie($["default"].histKey);var t=e;ue["default"].appendUrlToLongHist(t);var n=encodeURIComponent(t);if($["default"].hist){for(var r=$["default"].hist.split(",").join("|").split("|"),i=!1,a=0;a<r.length;a++)if(r[a]===n){i=!0;break}i||(r.length>=10&&(r=r.slice(1,10)),r.push(n)),$["default"].hist=r.join("|")}else $["default"].hist=n;me["default"].createCookie($["default"].histKey,$["default"].hist,15)}function G(e){$["default"].customContext=e}Object.defineProperty(t,"__esModule",{value:!0});var W=n(18),V=r(W),Q=n(2),$=r(Q),X=n(11),Y=r(X),Z=n(9),ee=r(Z),te=n(3),ne=r(te),re=n(8),ie=r(re),ae=n(10),oe=r(ae),le=n(6),ue=r(le),se=n(17),fe=r(se),de=n(20),ce=r(de),pe=n(19),ge=r(pe),he=n(5),me=r(he),ve=n(16),ye=r(ve),we=window,Se=document,be=ne["default"].size,ke={},xe={};t["default"]={getWidgetNames:u,register:d,fetch:y,resetPageview:g,monitorSearch:k,track:R,userHash:_,render:U,renderCustomWidget:E,setRequestFields:O,setArrayRequestFields:P,setRequestFieldsAON:A,setGetQueryInfo:H,setNoTag:j,isActivated:l,addRecsHelper:L,userCallback:p,baseTrack:M,abSlice:q,abTestSlice:N,sendItem:J,setHist:B,pushBrowsingHist:z,setContext:G,debounce:T},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t){}var n=e.query||o["default"].search.defaultQuery,r=o["default"].jsKey,i=e.max||o["default"].search.max,a=e.off||o["default"].search.off,l=e.requestFields||o["default"].search.requestFields,s=o["default"].search.queryServer;if(!r)return void console.log("LI: Client isn't initialized. Load the JavaScript Key");var d=s+"/v1/search?";d+=u["default"].forCurrentExample(),d+="&q="+encodeURIComponent(n),d+="&smx="+encodeURIComponent(i),d+="&sf="+encodeURIComponent(JSON.stringify(l)),d+="&sof="+encodeURIComponent(a);for(var c in e.opts)e.opts.hasOwnProperty(c)&&(d+="object"==typeof e.opts[c]?"&"+c+"="+encodeURIComponent(JSON.stringify(e.opts[c])):"&"+c+"="+encodeURIComponent(e.opts[c]));(0,f.thirdPartyFetchNoCookies)(d,0,function(t){return e.callback(t,e)},t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),l=n(11),u=r(l),s=n(3),f=(r(s),n(24));window;t["default"]={search:i},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n,r){function i(e){var t=e.target;200===t.status?n(JSON.parse(t.responseText)):r(t.status,t.responseText)}function a(){r(-2,"client timeout")}function l(e){var t=e.target;r(t.status,"network error")}if("string"!=typeof e)throw Error("url must be string");if(null==t||!(t>=0))throw Error("Timeout must be non-negative number. 0 means no timeout.");if("function"!=typeof n)throw Error("Expected successCallback to be function");if("function"!=typeof r)throw Error("Expected errorCallback to be function");var u="undefined"==typeof XMLHttpRequest?null:new XMLHttpRequest;if(null==u||void 0===u.withCredentials)if("undefined"!=typeof XDomainRequest)u=new XDomainRequest;else{var s=function(){var i=document.createElement("script"),l="igniter_"+o["default"].generateUUID().replace(/-/g,""),u=!1,s=0==t?null:setTimeout(function(){u||(u=!0,a())},t);return window[l]=function(e){u||(u=!0,null!=s&&clearTimeout(s),n(e)),i.parentNode.removeChild(i)},i.async=i.defer=!0,i.src=e+(e.indexOf("?")>=0?"&":"?")+"jsonp="+l,i.onerror=function(e){u||(u=!0,clearTimeout(s),r(-3,"Jsonp script failed to load")),i.parentNode.removeChild(i)},document.head.appendChild(i),{v:void 0}}();if("object"==typeof s)return s.v}u.open("GET",e,!0),u.onload=i,u.ontimeout=a,u.onerror=l,u.timeout=t;try{u.send()}catch(f){r(-1,f.name+": "+f.message+(null!=f.description?" "+f.description:""))}}Object.defineProperty(t,"__esModule",{value:!0}),t.thirdPartyFetchNoCookies=i;var a=n(3),o=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){function t(e){a(e),d(e)}function n(e,t){l&&l({code:e,message:t})}var r=[];for(var i in e)e.hasOwnProperty(i)&&(k[i]?typeof e[i]!==k[i]&&r.push("Wrong type for key "+i+" (expected "+k[i]+", got "+typeof e[i]+")"):r.push("Unrecognized key "+i));if(null==x&&(x=o()),r.length>0)throw Error('$p("fpo", options): '+r.join("; "));var a=e.callback,l=e.errorCallback;if(null==g["default"].jsKey)throw Error('$p("fpo", options): Liftigniter not initialized; you must call $p("init") first');if("string"!=typeof g["default"].fpo.queryServer)throw Error("Expected Config.fpo.queryServer to be a string");var u=void 0,s=m["default"].forCurrentExample(u),f=g["default"].fpo.queryServer+"/v1/floorPrice?"+s+(e.failSometimes?"&failSometimes=true":"")+"&fpoHistory="+encodeURIComponent(JSON.stringify(x)),c=g["default"].fpo.timeout;if(null==c||!(c>=0))throw Error("Expected non-zero Config.fpo.timeout");(0,v.thirdPartyFetchNoCookies)(f,c,t,n)}function o(){var e=void 0;if(null!=window.localStorage)try{e=JSON.parse(localStorage.getItem("pm-fpo")||"null"),null!=e&&"object"==typeof e||(e={})}catch(t){e={}}else e={};for(null!=e.pageviews&&null!=e.pageviews.length||(e.pageviews=[]);e.pageviews.length>0&&!e.pageviews[0].dfpFilledSlots;)e.pageviews.shift();return e}function l(e){try{if(null!=window.localStorage){var t=JSON.stringify(e);return localStorage.setItem("pm-fpo",t),"ok"}return"noLocalStorage"}catch(n){return console.log("Error when saving to FPO history",n),"Error: QUOTA_EXCEEDED_ERR: DOM Exception 22"==n||"Error: QuotaExceededError: DOM Exception 22"==n||"QuotaExceededError (DOM Exception 22): The quota has been exceeded."==n?(u(),"localStorageFull"):"Unexpected error: "+n}}function u(){try{return null!=window.localStorage?(localStorage.removeItem("pm-fpo"),"ok"):"noLocalStorage"}catch(e){return console.log("Error when deleting FPO history",e),"Unexpected error: "+e}}function s(e,t){var n=f();return n.pubadsRequested.apply(n,arguments)}function f(){return C||(C=new I),C}function d(e){var t=f();t.resetKnownSlotsAndStartReporting(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.fetchFloorPrice=a,t.pubadsRequested=s,t.reportAdxStats=d;var p=n(2),g=r(p),h=n(11),m=r(h),v=n(24),y=n(10),w=r(y),S=n(3),b=r(S),k={callback:"function",errorCallback:"function",failSometimes:"boolean"},x=null,I=function(){function e(){i(this,e),this.slotRenderEndedListenerInstalled=!1,this.batchCount=0,this.reportBatch=null,this.fpoResp={},this.checkNewSlotsInterval=0,this.newSlots=null,this.slotsWaitingForTimeout=null,this.seenSlots={},this.refreshBasedReportBatches=[],null==x&&(x=o()),x.pageCount=(x.pageCount||0)+1,this.pageEvent=null;for(var t=0;t<x.pageviews.length;t++){var n=x.pageviews[t];if(null!=n&&n.pvid===g["default"].pvid){this.pageEvent=n;break}}null==this.pageEvent&&(this.pageEvent={pvid:g["default"].pvid,pageLoadClientTimestamp:+new Date,priceInPennies:null,slotPrices:{},dfpFilledSlots:[],adxFilledSlots:[],unfilledSlots:[]},x.pageviews.length>=4&&x.pageviews.shift(),x.pageviews.push(this.pageEvent))}return c(e,[{key:"reportNewSlots",value:function(t,n){var r=this;try{var i={},a=!0;if(null!=t&&t.length>0){var o=e.getFillInfo(t,n),u=o.dfpPaths,s=o.adxPaths,f=o.unfPaths,d=googletag.pubads().getTargetingKeys(),c=d.reduce(function(e,t){return e[t]=googletag.pubads().getTargeting(t),e},{});i.dfpFilledSlots=u,i.adxFilledSlots=s,i.unfilledSlots=f,i.batchNumber=this.batchCount++,i.allSlotInfo=JSON.stringify(o.reportBatchIncludingUnfilled),i.fpoHistory=JSON.stringify(x),d.length>0&&(i.targeting=JSON.stringify(c)),this.pageEvent.dfpFilledSlots=u,this.pageEvent.adxFilledSlots=s,this.pageEvent.unfilledSlots=f,this.pageEvent.priceInPennies=this.fpoResp.priceInPennies,u.forEach(function(e){r.fpoResp.slotPrices&&r.fpoResp.slotPrices[e]&&(r.pageEvent.slotPrices[e]=r.fpoResp.slotPrices[e])}),s.forEach(function(e){r.fpoResp.slotPrices&&r.fpoResp.slotPrices[e]&&(r.pageEvent.slotPrices[e]=r.fpoResp.slotPrices[e]);
}),f.forEach(function(e){r.fpoResp.slotPrices&&r.fpoResp.slotPrices[e]&&(r.pageEvent.slotPrices[e]=r.fpoResp.slotPrices[e])});var p=l(x);"ok"!=p&&(i.fpoHistorySaveStatus=p),a=!1}if(this.refreshBasedReportBatches.length>0){var g=this.refreshBasedReportBatches.filter(function(e){return null!=e.sendParams});if(this.refreshBasedReportBatches=this.refreshBasedReportBatches.filter(function(e){return null==e.sendParams}),g.length>0){var h=g.map(function(e){return e.lostSlots}).reduce(function(e,t){return e&&t?e.concat(t):e?e:t}),m=null==h?null:h.map(function(e){return e.getAdUnitPath()}),v=g.map(function(e){return e.lostAdxFilledSlots}).reduce(function(e,t){return e&&t?e.concat(t):e?e:t}),y=g.map(function(e){return e.lostDfpFilledSlots}).reduce(function(e,t){return e&&t?e.concat(t):e?e:t}),S=g.map(function(e){return e.sendParams}).reduce(function(e,t){return{refreshBasedDfpFilledSlots:e.refreshBasedDfpFilledSlots.concat(t.refreshBasedDfpFilledSlots),refreshBasedAdxFilledSlots:e.refreshBasedAdxFilledSlots.concat(t.refreshBasedAdxFilledSlots),refreshBasedUnfilledSlots:e.refreshBasedUnfilledSlots.concat(t.refreshBasedUnfilledSlots)}});null!=m&&(S.refreshBasedLostSlots=m),null!=v&&(S.refreshBasedLostAdxFilledSlots=v),null!=y&&(S.refreshBasedLostDfpFilledSlots=y),i=b["default"].mergeMap(i,S)}a=!1}if(a)return;var k=b["default"].mergeMap(b["default"].mergeMap(this.fpoResp,i),{slotPrices:JSON.stringify(this.pageEvent.slotPrices)});w["default"].send("slotsRendered",k)}catch(I){console.log("Encountered exception when preparing and sending ad slots report",I),w["default"].send("reportNewSlotsError",{errorDetails:"Encountered error: "+I+" when trying to send adSlotsReport"})}}},{key:"resetKnownSlotsAndStartReporting",value:function(e){var t=this;0!==this.checkNewSlotsInterval&&(clearInterval(this.checkNewSlotsInterval),this.checkNewSlotsInterval=0),this.fpoResp=e,this.newSlots=null,this.slotsWaitingForTimeout=null,this.seenSlots={},this.checkNewSlotsInterval=setInterval(function(){t.pollSlots()},750),this.pollSlots()}},{key:"pubadsRequested",value:function(t,n){var r=this;try{1!==arguments.length||Array.isArray(t)||"object"!=typeof t||(n=t,t=void 0);var i=[];if(Array.isArray(t))for(var a=0;a<t.length;a++)"object"==typeof t[a]&&"function"==typeof t[a].getAdUnitPath||i.push("opt_slots["+a+"] = "+t[a]+" but expected a Slot object");else null!=t&&i.push("opt_slots = "+t+" but expected null or array of slots");if("object"!=typeof n&&null!=n&&i.push("opt_options = "+n+" but expected null or object"),i.length>0)throw Error('$p("pubadsRequested", opt_slots, opt_options): '+i.join("; "));var o=t||googletag.pubads().getSlots();return o.length>0&&!function(){for(var t={},n=0;n<o.length;n++)t[o[n].getAdUnitPath()]=!0;r.refreshBasedReportBatches.forEach(function(n){if(null==n.sendParams){var r=n.slots.filter(function(e){return t[e.getAdUnitPath()]}),i=e.getFillInfo(r,n.reportBatch);n.lostAdxFilledSlots=e.checkAppend(n.lostAdxFilledSlots,i.adxPaths),n.lostDfpFilledSlots=e.checkAppend(n.lostDfpFilledSlots,i.dfpPaths),n.lostSlots=e.checkAppend(n.lostSlots,r),n.slots=n.slots.filter(function(e){return!t[e.getAdUnitPath()]})}});var i={refreshTimestamp:+new Date,reportBatch:[],slots:o,lostSlots:null,lostAdxFilledSlots:null,lostDfpFilledSlots:null,sendParams:null};r.refreshBasedReportBatches.push(i),setTimeout(function(){return r.pollAfterRefresh(i)},2e3)}(),"ok"}catch(l){return console.log("Encountered error when processing pubAdsRequest",l),w["default"].send("pubAdsRequestedError",{errorDetails:"Encountered error "+l+" when running pubAdsRequested"}),"fail"}}},{key:"pollAfterRefresh",value:function(t){try{var n=e.getFillInfo(t.slots,t.reportBatch),r={refreshBasedDfpFilledSlots:n.dfpPaths,refreshBasedAdxFilledSlots:n.adxPaths,refreshBasedUnfilledSlots:n.unfPaths};t.sendParams=r}catch(i){console.log("Encountered error when running pollAfterRefresh",i),w["default"].send("pollAfterRefreshError",{errorDetails:"Encountered error "+i+" when running pollAfterRefresh"})}}},{key:"installSlotRenderEndedListener",value:function(){var t=this;this.slotRenderEndedListenerInstalled||(googletag.pubads().addEventListener("slotRenderEnded",function(n){try{null==t.reportBatch&&(t.reportBatch=[]);var r=e.getSlotInfo(n.slot,n);t.reportBatch.push(r);for(var i=0;i<t.refreshBasedReportBatches.length;i++)t.refreshBasedReportBatches[i].reportBatch.push(r)}catch(a){console.log("Encountered error when listening to slot",a),w["default"].send("slotListeningError",{errorDetails:"Encountered error "+a+" when running the listener on slotRenderEnded"})}}),this.slotRenderEndedListenerInstalled=!0)}},{key:"pollSlots",value:function(){var e=this;"undefined"!=typeof googletag&&null!=googletag&&googletag.cmd.push(function(){e.pollSlotsWithGoogletag()})}},{key:"pollSlotsWithGoogletag",value:function(){var e=this;this.installSlotRenderEndedListener(),this.reportNewSlots(this.slotsWaitingForTimeout,this.reportBatch),this.slotsWaitingForTimeout=this.newSlots,this.reportBatch=null,this.newSlots=googletag.pubads().getSlots().filter(function(t){return!e.seenSlots[t.getAdUnitPath()]}),this.newSlots.forEach(function(t){e.seenSlots[t.getAdUnitPath()]=!0})}}],[{key:"getSlotInfo",value:function(e,t){var n=e.getTargetingKeys(),r=n.reduce(function(t,n){return t[n]=e.getTargeting(n),t},{}),i=e.getResponseInformation(),a={slotName:e.getAdUnitPath(),slotAdUnitPath:e.getAdUnitPath(),slotElementId:e.getSlotElementId(),outOfPage:e.getOutOfPage(),timestamp:+new Date,responseInformation:i};return n.length>0&&(a.targeting=r),null!=t&&(a.creativeId=t.creativeId,a.isEmpty=t.isEmpty,a.lineItemId=t.lineItemId,a.serviceName=t.serviceName,a.size=t.size),a}},{key:"getFillInfo",value:function(t,n){var r=t.map(function(t){var r=null;if(n)for(var i=0;i<n.length;i++)if(t.getAdUnitPath()==n[i].slotAdUnitPath){r=n[i];break}return null==r&&(r=e.getSlotInfo(t,null)),r}),i=r.filter(function(e){return!e.isEmpty&&null!=e.responseInformation&&null!=e.responseInformation.lineItemId}).map(function(e){return e.slotAdUnitPath}),a=r.filter(function(e){return!e.isEmpty&&null!=e.responseInformation&&null==e.responseInformation.lineItemId}).map(function(e){return e.slotAdUnitPath}),o=r.filter(function(e){return-1===i.indexOf(e.slotAdUnitPath)&&-1===a.indexOf(e.slotAdUnitPath)}).map(function(e){return e.slotAdUnitPath});return{dfpPaths:i,adxPaths:a,unfPaths:o,reportBatchIncludingUnfilled:r}}},{key:"checkAppend",value:function(e,t){return e=e||[],Array.prototype.push.apply(e,t),e}}]),e}(),C=null}]);